{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\codemaxx\\\\Desktop\\\\iBlood\\\\node_modules\\\\react-native-fade-in-image\\\\FadeIn.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TimerMixin from 'react-timer-mixin';\nimport reactMixin from 'react-mixin';\nimport cloneReferencedElement from 'react-clone-referenced-element';\nvar onlyChild = React.Children.only;\n\nvar FadeIn = function (_React$Component) {\n  _inherits(FadeIn, _React$Component);\n\n  var _super = _createSuper(FadeIn);\n\n  function FadeIn() {\n    var _this;\n\n    _classCallCheck(this, FadeIn);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      placeholderContainerOpacity: new Animated.Value(1)\n    };\n\n    _this._onLoadEnd = function () {\n      var minimumWait = 100;\n      var staggerNonce = 200 * Math.random();\n\n      _this.setTimeout(function () {\n        Animated.timing(_this.state.placeholderContainerOpacity, {\n          toValue: 0,\n          duration: 350,\n          useNativeDriver: _this.props.useNativeDriver\n        }).start();\n      }, minimumWait + staggerNonce);\n    };\n\n    return _this;\n  }\n\n  _createClass(FadeIn, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var image = cloneReferencedElement(onlyChild(this.props.children), {\n        ref: function ref(component) {\n          _this2._image = component;\n        },\n        onLoadEnd: this._onLoadEnd\n      });\n\n      var safeImageProps = _objectSpread({}, StyleSheet.flatten(image.props.style));\n\n      delete safeImageProps.tintColor;\n      delete safeImageProps.resizeMode;\n      return React.createElement(View, _extends({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 7\n        }\n      }), image, React.createElement(Animated.View, {\n        style: [styles.placeholderContainer, {\n          opacity: this.state.placeholderContainerOpacity\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: [safeImageProps, styles.placeholder, this.props.placeholderStyle],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }\n      }, this.props.renderPlaceholderContent)));\n    }\n  }]);\n\n  return FadeIn;\n}(React.Component);\n\nFadeIn.defaultProps = {\n  useNativeDriver: true\n};\nexport { FadeIn as default };\nreactMixin(FadeIn.prototype, TimerMixin);\nvar styles = StyleSheet.create({\n  placeholderContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0\n  },\n  placeholder: {\n    backgroundColor: '#eee'\n  }\n});","map":{"version":3,"sources":["C:/Users/codemaxx/Desktop/iBlood/node_modules/react-native-fade-in-image/FadeIn.js"],"names":["React","TimerMixin","reactMixin","cloneReferencedElement","onlyChild","Children","only","FadeIn","state","placeholderContainerOpacity","Animated","Value","_onLoadEnd","minimumWait","staggerNonce","Math","random","setTimeout","timing","toValue","duration","useNativeDriver","props","start","image","children","ref","component","_image","onLoadEnd","safeImageProps","StyleSheet","flatten","style","tintColor","resizeMode","styles","placeholderContainer","opacity","placeholder","placeholderStyle","renderPlaceholderContent","Component","defaultProps","prototype","create","position","top","left","bottom","right","backgroundColor"],"mappings":";;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;AAEA,OAAOC,UAAP,MAAuB,mBAAvB;AAEA,OAAOC,UAAP,MAAuB,aAAvB;AACA,OAAOC,sBAAP,MAAmC,gCAAnC;AAEA,IAAMC,SAAS,GAAGJ,KAAK,CAACK,QAAN,CAAeC,IAAjC;;IAEqBC,M;;;;;;;;;;;;;;;UAKnBC,K,GAAQ;AACNC,MAAAA,2BAA2B,EAAE,IAAIC,QAAQ,CAACC,KAAb,CAAmB,CAAnB;AADvB,K;;UAwCRC,U,GAAa,YAAM;AASjB,UAAMC,WAAW,GAAG,GAApB;AACA,UAAMC,YAAY,GAAG,MAAMC,IAAI,CAACC,MAAL,EAA3B;;AAEA,YAAKC,UAAL,CAAgB,YAAM;AACpBP,QAAAA,QAAQ,CAACQ,MAAT,CAAgB,MAAKV,KAAL,CAAWC,2BAA3B,EAAwD;AACtDU,UAAAA,OAAO,EAAE,CAD6C;AAEtDC,UAAAA,QAAQ,EAAE,GAF4C;AAGtDC,UAAAA,eAAe,EAAE,MAAKC,KAAL,CAAWD;AAH0B,SAAxD,EAIGE,KAJH;AAKD,OAND,EAMGV,WAAW,GAAGC,YANjB;AAOD,K;;;;;;;6BAvDQ;AAAA;;AACP,UAAIU,KAAK,GAAGrB,sBAAsB,CAACC,SAAS,CAAC,KAAKkB,KAAL,CAAWG,QAAZ,CAAV,EAAiC;AACjEC,QAAAA,GAAG,EAAE,aAAAC,SAAS,EAAI;AAChB,UAAA,MAAI,CAACC,MAAL,GAAcD,SAAd;AACD,SAHgE;AAIjEE,QAAAA,SAAS,EAAE,KAAKjB;AAJiD,OAAjC,CAAlC;;AAOA,UAAIkB,cAAc,qBAAQC,UAAU,CAACC,OAAX,CAAmBR,KAAK,CAACF,KAAN,CAAYW,KAA/B,CAAR,CAAlB;;AACA,aAAOH,cAAc,CAACI,SAAtB;AACA,aAAOJ,cAAc,CAACK,UAAtB;AAEA,aACE,oBAAC,IAAD,eAAU,KAAKb,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UACGE,KADH,EAGE,oBAAC,QAAD,CAAU,IAAV;AACE,QAAA,KAAK,EAAE,CACLY,MAAM,CAACC,oBADF,EAEL;AAAEC,UAAAA,OAAO,EAAE,KAAK9B,KAAL,CAAWC;AAAtB,SAFK,CADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAME,oBAAC,IAAD;AACE,QAAA,KAAK,EAAE,CACLqB,cADK,EAELM,MAAM,CAACG,WAFF,EAGL,KAAKjB,KAAL,CAAWkB,gBAHN,CADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOG,KAAKlB,KAAL,CAAWmB,wBAPd,CANF,CAHF,CADF;AAsBD;;;;EA3CiCzC,KAAK,CAAC0C,S;;AAArBnC,M,CACZoC,Y,GAAe;AACpBtB,EAAAA,eAAe,EAAE;AADG,C;SADHd,M;AAmErBL,UAAU,CAACK,MAAM,CAACqC,SAAR,EAAmB3C,UAAnB,CAAV;AAEA,IAAImC,MAAM,GAAGL,UAAU,CAACc,MAAX,CAAkB;AAC7BR,EAAAA,oBAAoB,EAAE;AACpBS,IAAAA,QAAQ,EAAE,UADU;AAEpBC,IAAAA,GAAG,EAAE,CAFe;AAGpBC,IAAAA,IAAI,EAAE,CAHc;AAIpBC,IAAAA,MAAM,EAAE,CAJY;AAKpBC,IAAAA,KAAK,EAAE;AALa,GADO;AAQ7BX,EAAAA,WAAW,EAAE;AACXY,IAAAA,eAAe,EAAE;AADN;AARgB,CAAlB,CAAb","sourcesContent":["import React from 'react';\r\nimport { Animated, StyleSheet, View } from 'react-native';\r\nimport TimerMixin from 'react-timer-mixin';\r\n\r\nimport reactMixin from 'react-mixin';\r\nimport cloneReferencedElement from 'react-clone-referenced-element';\r\n\r\nconst onlyChild = React.Children.only;\r\n\r\nexport default class FadeIn extends React.Component {\r\n  static defaultProps = {\r\n    useNativeDriver: true,\r\n  };\r\n\r\n  state = {\r\n    placeholderContainerOpacity: new Animated.Value(1),\r\n  };\r\n\r\n  render() {\r\n    let image = cloneReferencedElement(onlyChild(this.props.children), {\r\n      ref: component => {\r\n        this._image = component;\r\n      },\r\n      onLoadEnd: this._onLoadEnd,\r\n    });\r\n\r\n    let safeImageProps = { ...StyleSheet.flatten(image.props.style) };\r\n    delete safeImageProps.tintColor;\r\n    delete safeImageProps.resizeMode;\r\n\r\n    return (\r\n      <View {...this.props}>\r\n        {image}\r\n\r\n        <Animated.View\r\n          style={[\r\n            styles.placeholderContainer,\r\n            { opacity: this.state.placeholderContainerOpacity },\r\n          ]}\r\n        >\r\n          <View\r\n            style={[\r\n              safeImageProps,\r\n              styles.placeholder,\r\n              this.props.placeholderStyle,\r\n            ]}\r\n          >\r\n            {this.props.renderPlaceholderContent}\r\n          </View>\r\n        </Animated.View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  _onLoadEnd = () => {\r\n    /* NOTE(brentvatne): If we animate in immediately when the onLoadEvent event\r\n       fires, there are two unwanted consequences:\r\n     1. Animation feels janky - not entirely sure why that is\r\n       (handled with minimumWait)\r\n     2. Many images finish loading in the same frame for some reason, and in my\r\n       opinion it looks better when the images fade in separately\r\n       (handled with staggerNonce) */\r\n\r\n    const minimumWait = 100;\r\n    const staggerNonce = 200 * Math.random();\r\n\r\n    this.setTimeout(() => {\r\n      Animated.timing(this.state.placeholderContainerOpacity, {\r\n        toValue: 0,\r\n        duration: 350,\r\n        useNativeDriver: this.props.useNativeDriver,\r\n      }).start();\r\n    }, minimumWait + staggerNonce);\r\n  };\r\n}\r\n\r\nreactMixin(FadeIn.prototype, TimerMixin);\r\n\r\nlet styles = StyleSheet.create({\r\n  placeholderContainer: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    bottom: 0,\r\n    right: 0,\r\n  },\r\n  placeholder: {\r\n    backgroundColor: '#eee',\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}