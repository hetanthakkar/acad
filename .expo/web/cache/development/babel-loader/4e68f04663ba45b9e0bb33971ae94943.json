{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\codemaxx\\\\Desktop\\\\iBlood\\\\camera.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport styles from \"./imgstyle\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport BackHandler from \"react-native-web/dist/exports/BackHandler\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Clipboard from \"react-native-web/dist/exports/Clipboard\";\nimport Share from \"react-native-web/dist/exports/Share\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport firebase from \"firebase\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyAfGN94rWhA55dceve-ab5R5nEL6o4xXeg\",\n  authDomain: \"new1-930be.firebaseapp.com\",\n  databaseURL: \"https://new1-930be.firebaseio.com\",\n  projectId: \"new1-930be\",\n  storageBucket: \"new1-930be.appspot.com\",\n  messagingSenderId: \"332990256430\",\n  appId: \"1:332990256430:web:640a6413492c34bf2a96bf\",\n  measurementId: \"G-SBPS6449GM\"\n};\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(firebaseConfig);\n}\n\nimport _ from \"lodash\";\nvar idt;\n\nvar App = function (_React$Component) {\n  _inherits(App, _React$Component);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.alertify = function (error) {\n      return Alert.alert(\"Alert Title\", error, [{\n        text: \"Cancel\",\n        onPress: function onPress() {\n          return console.log(\"Cancel Pressed\");\n        },\n        style: \"cancel\"\n      }, {\n        text: \"OK\",\n        onPress: function onPress() {\n          return console.log(\"OK Pressed\");\n        }\n      }], {\n        cancelable: false\n      });\n    };\n\n    _this.handleBackButton = function () {\n      if (_this.props.user.skill == \"gawar\") {\n        console.log(\"entered gawar\");\n\n        _this.props.navigation.navigate(\"Demo\");\n\n        return true;\n      } else _this.props.navigation.navigate(\"Demo1\");\n\n      return true;\n    };\n\n    _this.success = function _callee(value) {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\"object\");\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(firebase.database().ref(\"user/\" + 0).set({\n                about: _this.props.user.about,\n                name: _this.props.user.name,\n                email: _this.props.user.email,\n                password: _this.props.user.password,\n                state: _this.props.user.state,\n                city: _this.props.user.city,\n                skill: _this.props.user.skill,\n                gender: _this.props.user.gender,\n                id: _this.state.id,\n                noOfMessagesRecieved: 0,\n                noOfMessagesSent: 0,\n                courseHours: _this.props.user.courseHours,\n                charge: _this.props.user.charge,\n                level: _this.props.user.level,\n                teachingMode: _this.props.user.teachingMode,\n                teachingTime: _this.props.user.teachingTime\n              }));\n\n            case 3:\n              if (!(_this.props.user.specifics != undefined)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(firebase.database().ref(\"user/\" + _this.state.id).update({\n                photo: _this.state.image,\n                specifics: _this.props.user.specifics\n              }));\n\n            case 6:\n              if (!(_this.props.user.otherSkill != undefined)) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.next = 9;\n              return _regeneratorRuntime.awrap(firebase.database().ref(\"user/\" + _this.state.id).update({\n                photo: _this.state.image,\n                otherSkill: _this.props.user.otherSkill\n              }));\n\n            case 9:\n              _context.next = 11;\n              return _regeneratorRuntime.awrap(firebase.database().ref(\"id\").set({\n                number: _this.state.id + 1\n              }));\n\n            case 11:\n              _this.props.navigation.navigate(\"Entry\", {\n                id: _this.state.id - 1\n              });\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.handleimage = function _callee2() {\n      var photo;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(_this.state.image == null)) {\n                _context2.next = 4;\n                break;\n              }\n\n              if (_this.props.user.gender == \"Female\") photo = \"https://www.kpcw.org/sites/kpcw/files/styles/medium/public/201409/Wonder_Woman_no_photo_2.jpg\";else photo = \"https://i.pinimg.com/600x315/60/87/ed/6087ed0551ade6a795b06580293c99eb.jpg\";\n              _context2.next = 4;\n              return _regeneratorRuntime.awrap(_this.setState({\n                image: photo\n              }));\n\n            case 4:\n              firebase.auth().createUserWithEmailAndPassword(_this.props.user.email, _this.props.user.password).then(_this.success()).catch(function (error) {\n                return _this.alertify(JSON.stringify(error.message));\n              });\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.mainpage = function () {\n      if (_this.state.image == null) _this.handleimage();\n    };\n\n    _this.state = {\n      image: null,\n      uploading: false\n    };\n\n    _this._maybeRenderUploadingOverlay = function () {\n      if (_this.state.uploading) {\n        return React.createElement(View, {\n          style: [StyleSheet.absoluteFill, {\n            alignItems: \"center\",\n            justifyContent: \"center\"\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 9\n          }\n        });\n      }\n    };\n\n    _this._maybeRenderImage = function () {\n      var image = _this.state.image;\n\n      if (!image) {\n        return;\n      }\n\n      return React.createElement(View, {\n        style: styles.view,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.viewIos,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 9\n        }\n      }, React.createElement(Image, {\n        backgroundColor: \"#6bd1e9\",\n        source: {\n          uri: image\n        },\n        style: styles.image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }\n      })));\n    };\n\n    _this._share = function () {\n      Share.share({\n        message: _this.state.image,\n        title: \"Check out this photo\",\n        url: _this.state.image\n      });\n    };\n\n    _this._copyToClipboard = function () {\n      Clipboard.setString(_this.state.image);\n      alert(\"Copied image URL to clipboard\");\n    };\n\n    _this._takePhoto = function _callee3() {\n      var pickerResult;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(ImagePicker.launchCameraAsync({\n                allowsEditing: true,\n                aspect: [4, 3]\n              }));\n\n            case 2:\n              pickerResult = _context3.sent;\n              _context3.next = 5;\n              return _regeneratorRuntime.awrap(_this._handleImagePicked(pickerResult));\n\n            case 5:\n              _context3.next = 7;\n              return _regeneratorRuntime.awrap(_this._handleImagePicked(pickerResult));\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._pickImage = function _callee4() {\n      var pickerResult;\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n                allowsEditing: true,\n                aspect: [4, 3]\n              }));\n\n            case 2:\n              pickerResult = _context4.sent;\n              _context4.next = 5;\n              return _regeneratorRuntime.awrap(_this._handleImagePicked(pickerResult));\n\n            case 5:\n              firebase.database().ref(\"user/\" + id).set({\n                photo: _this.state.image\n              });\n\n            case 6:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._handleImagePicked = function _callee5(pickerResult) {\n      return _regeneratorRuntime.async(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n\n              _this.setState({\n                uploading: true\n              });\n\n              if (pickerResult.cancelled) {\n                _context5.next = 8;\n                break;\n              }\n\n              _context5.next = 5;\n              return _regeneratorRuntime.awrap(uploadImageAsync(pickerResult.uri));\n\n            case 5:\n              uploadUrl = _context5.sent;\n              _context5.next = 8;\n              return _regeneratorRuntime.awrap(_this.setState({\n                image: uploadUrl\n              }));\n\n            case 8:\n              _context5.next = 14;\n              break;\n\n            case 10:\n              _context5.prev = 10;\n              _context5.t0 = _context5[\"catch\"](0);\n              console.log(_context5.t0);\n              alert(\"Upload failed, sorry :(\");\n\n            case 14:\n              _context5.prev = 14;\n\n              _this.setState({\n                uploading: false\n              });\n\n              return _context5.finish(14);\n\n            case 17:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, null, [[0, 10, 14, 17]], Promise);\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      return _regeneratorRuntime.async(function componentDidMount$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              console.log(\"pic props are\" + JSON.stringify(this.props));\n              firebase.database().ref(\"id/number\").on(\"value\", function _callee6(snapshot) {\n                return _regeneratorRuntime.async(function _callee6$(_context6) {\n                  while (1) {\n                    switch (_context6.prev = _context6.next) {\n                      case 0:\n                        idt = snapshot.val();\n                        console.log(\"fetch number is in pic \" + idt);\n                        _context6.next = 4;\n                        return _regeneratorRuntime.awrap(_this2.setState({\n                          id: idt\n                        }));\n\n                      case 4:\n                        console.log(\"id is fodim\" + _this2.state.id);\n\n                      case 5:\n                      case \"end\":\n                        return _context6.stop();\n                    }\n                  }\n                }, null, null, null, Promise);\n              });\n              BackHandler.addEventListener(\"hardwareBackPress\", this.handleBackButton);\n              console.log(\"Pic is\" + JSON.stringify(this.props.user));\n\n            case 4:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 7\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: this._takePhoto,\n        style: styles.capturePhoto,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.capturePhotoText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }\n      }, \"Take a photo\")), React.createElement(Text, {\n        style: {\n          color: \"white\",\n          fontSize: 19\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 9\n        }\n      }, \" \", \"\\n\", \"\\n\", \"OR\"), React.createElement(TouchableOpacity, {\n        onPress: this._pickImage,\n        style: styles.upload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.uploadText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }\n      }, \"Upload from file\")), React.createElement(TouchableOpacity, {\n        onPress: this.mainpage,\n        style: styles.uploadLater,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.uploadLaterText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }\n      }, \"I will upload later\")), React.createElement(TouchableOpacity, {\n        onPress: this.mainpage,\n        style: styles.mainPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.mainPageText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }\n      }, \"Go to main page\")), this._maybeRenderImage(), this._maybeRenderUploadingOverlay(), React.createElement(StatusBar, {\n        barStyle: \"default\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport { App as default };\n\nfunction uploadImageAsync(uri) {\n  var blob, ref, snapshot;\n  return _regeneratorRuntime.async(function uploadImageAsync$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return _regeneratorRuntime.awrap(new Promise(function (resolve, reject) {\n            var xhr = new XMLHttpRequest();\n\n            xhr.onload = function () {\n              resolve(xhr.response);\n            };\n\n            xhr.onerror = function (e) {\n              console.log(e);\n              reject(new TypeError(\"Network request failed\"));\n            };\n\n            xhr.responseType = \"blob\";\n            xhr.open(\"GET\", uri, true);\n            xhr.send(null);\n          }));\n\n        case 2:\n          blob = _context8.sent;\n          ref = firebase.storage().ref().child(\"ksjdnf\");\n          _context8.next = 6;\n          return _regeneratorRuntime.awrap(ref.put(blob));\n\n        case 6:\n          snapshot = _context8.sent;\n          blob.close();\n          _context8.next = 10;\n          return _regeneratorRuntime.awrap(snapshot.ref.getDownloadURL());\n\n        case 10:\n          return _context8.abrupt(\"return\", _context8.sent);\n\n        case 11:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}","map":{"version":3,"sources":["C:/Users/codemaxx/Desktop/iBlood/camera.js"],"names":["React","ImagePicker","styles","firebase","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","apps","length","initializeApp","_","idt","App","alertify","error","Alert","alert","text","onPress","console","log","style","cancelable","handleBackButton","props","user","skill","navigation","navigate","success","value","database","ref","set","about","name","email","password","state","city","gender","id","noOfMessagesRecieved","noOfMessagesSent","courseHours","charge","level","teachingMode","teachingTime","specifics","undefined","update","photo","image","otherSkill","number","handleimage","setState","auth","createUserWithEmailAndPassword","then","catch","JSON","stringify","message","mainpage","uploading","_maybeRenderUploadingOverlay","StyleSheet","absoluteFill","alignItems","justifyContent","_maybeRenderImage","view","viewIos","uri","_share","Share","share","title","url","_copyToClipboard","Clipboard","setString","_takePhoto","launchCameraAsync","allowsEditing","aspect","pickerResult","_handleImagePicked","_pickImage","launchImageLibraryAsync","cancelled","uploadImageAsync","uploadUrl","on","snapshot","val","BackHandler","addEventListener","container","capturePhoto","capturePhotoText","color","fontSize","upload","uploadText","uploadLater","uploadLaterText","mainPage","mainPageText","Component","Promise","resolve","reject","xhr","XMLHttpRequest","onload","response","onerror","e","TypeError","responseType","open","send","blob","storage","child","put","close","getDownloadURL"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Alert } from \"react-native\";\r\nimport * as ImagePicker from \"expo-image-picker\";\r\nimport styles from \"./imgstyle\";\r\nimport {\r\n  Image,\r\n  BackHandler,\r\n  ActivityIndicator,\r\n  Clipboard,\r\n  Share,\r\n  StatusBar,\r\n  View,\r\n  TouchableOpacity,\r\n  Text,\r\n} from \"react-native\";\r\nimport firebase from \"firebase\";\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyAfGN94rWhA55dceve-ab5R5nEL6o4xXeg\",\r\n  authDomain: \"new1-930be.firebaseapp.com\",\r\n  databaseURL: \"https://new1-930be.firebaseio.com\",\r\n  projectId: \"new1-930be\",\r\n  storageBucket: \"new1-930be.appspot.com\",\r\n  messagingSenderId: \"332990256430\",\r\n  appId: \"1:332990256430:web:640a6413492c34bf2a96bf\",\r\n  measurementId: \"G-SBPS6449GM\",\r\n};\r\n\r\nif (!firebase.apps.length) {\r\n  firebase.initializeApp(firebaseConfig);\r\n}\r\nimport _ from \"lodash\";\r\nvar idt;\r\nexport default class App extends React.Component {\r\n  alertify = (error) =>\r\n    Alert.alert(\r\n      \"Alert Title\",\r\n      error,\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\",\r\n        },\r\n        { text: \"OK\", onPress: () => console.log(\"OK Pressed\") },\r\n      ],\r\n      { cancelable: false }\r\n    );\r\n\r\n  async componentDidMount() {\r\n    console.log(\"pic props are\" + JSON.stringify(this.props));\r\n    firebase\r\n      .database()\r\n      .ref(\"id/number\")\r\n      .on(\"value\", async (snapshot) => {\r\n        idt = snapshot.val();\r\n        console.log(\"fetch number is in pic \" + idt);\r\n        await this.setState({ id: idt });\r\n        console.log(\"id is fodim\" + this.state.id);\r\n      });\r\n    BackHandler.addEventListener(\"hardwareBackPress\", this.handleBackButton);\r\n    console.log(\"Pic is\" + JSON.stringify(this.props.user));\r\n  }\r\n  handleBackButton = () => {\r\n    if (this.props.user.skill == \"gawar\") {\r\n      console.log(\"entered gawar\");\r\n      this.props.navigation.navigate(\"Demo\");\r\n      return true;\r\n    } else this.props.navigation.navigate(\"Demo1\");\r\n    return true;\r\n  };\r\n  success = async (value) => {\r\n    console.log(\"object\");\r\n    await firebase\r\n      .database()\r\n      .ref(\"user/\" + 0)\r\n      .set({\r\n        about: this.props.user.about,\r\n        name: this.props.user.name,\r\n        email: this.props.user.email,\r\n        password: this.props.user.password,\r\n        state: this.props.user.state,\r\n        city: this.props.user.city,\r\n        skill: this.props.user.skill,\r\n        gender: this.props.user.gender,\r\n        id: this.state.id,\r\n        noOfMessagesRecieved: 0,\r\n        noOfMessagesSent: 0,\r\n        courseHours: this.props.user.courseHours,\r\n        charge: this.props.user.charge,\r\n        level: this.props.user.level,\r\n        teachingMode: this.props.user.teachingMode,\r\n        teachingTime: this.props.user.teachingTime,\r\n      });\r\n    if (this.props.user.specifics != undefined) {\r\n      await firebase\r\n        .database()\r\n        .ref(\"user/\" + this.state.id)\r\n        .update({\r\n          photo: this.state.image,\r\n          specifics: this.props.user.specifics,\r\n        });\r\n    }\r\n    if (this.props.user.otherSkill != undefined) {\r\n      await firebase\r\n        .database()\r\n        .ref(\"user/\" + this.state.id)\r\n        .update({\r\n          photo: this.state.image,\r\n          otherSkill: this.props.user.otherSkill,\r\n        });\r\n    }\r\n\r\n    await firebase\r\n      .database()\r\n      .ref(\"id\")\r\n      .set({\r\n        number: this.state.id + 1,\r\n      });\r\n    this.props.navigation.navigate(\"Entry\", { id: this.state.id - 1 });\r\n  };\r\n\r\n  handleimage = async () => {\r\n    if (this.state.image == null) {\r\n      if (this.props.user.gender == \"Female\")\r\n        var photo =\r\n          \"https://www.kpcw.org/sites/kpcw/files/styles/medium/public/201409/Wonder_Woman_no_photo_2.jpg\";\r\n      else\r\n        var photo =\r\n          \"https://i.pinimg.com/600x315/60/87/ed/6087ed0551ade6a795b06580293c99eb.jpg\";\r\n      await this.setState({ image: photo });\r\n    }\r\n    firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(\r\n        this.props.user.email,\r\n        this.props.user.password\r\n      )\r\n      .then(this.success())\r\n      .catch((error) => this.alertify(JSON.stringify(error.message)));\r\n  };\r\n  mainpage = () => {\r\n    if (this.state.image == null) this.handleimage();\r\n  };\r\n  state = {\r\n    image: null,\r\n    uploading: false,\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <View style={styles.container}>\r\n        <TouchableOpacity onPress={this._takePhoto} style={styles.capturePhoto}>\r\n          <Text style={styles.capturePhotoText}>Take a photo</Text>\r\n        </TouchableOpacity>\r\n        <Text style={{ color: \"white\", fontSize: 19 }}>\r\n          {\" \"}\r\n          {\"\\n\"}\r\n          {\"\\n\"}OR\r\n        </Text>\r\n\r\n        <TouchableOpacity onPress={this._pickImage} style={styles.upload}>\r\n          <Text style={styles.uploadText}>Upload from file</Text>\r\n        </TouchableOpacity>\r\n\r\n        <TouchableOpacity onPress={this.mainpage} style={styles.uploadLater}>\r\n          <Text style={styles.uploadLaterText}>I will upload later</Text>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity onPress={this.mainpage} style={styles.mainPage}>\r\n          <Text style={styles.mainPageText}>Go to main page</Text>\r\n        </TouchableOpacity>\r\n\r\n        {this._maybeRenderImage()}\r\n        {this._maybeRenderUploadingOverlay()}\r\n\r\n        <StatusBar barStyle=\"default\" />\r\n      </View>\r\n    );\r\n  }\r\n\r\n  _maybeRenderUploadingOverlay = () => {\r\n    if (this.state.uploading) {\r\n      return (\r\n        <View\r\n          style={[\r\n            StyleSheet.absoluteFill,\r\n            {\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            },\r\n          ]}\r\n        ></View>\r\n      );\r\n    }\r\n  };\r\n\r\n  _maybeRenderImage = () => {\r\n    let { image } = this.state;\r\n    if (!image) {\r\n      return;\r\n    }\r\n    return (\r\n      <View style={styles.view}>\r\n        <View style={styles.viewIos}>\r\n          <Image\r\n            backgroundColor=\"#6bd1e9\"\r\n            source={{ uri: image }}\r\n            style={styles.image}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  _share = () => {\r\n    Share.share({\r\n      message: this.state.image,\r\n      title: \"Check out this photo\",\r\n      url: this.state.image,\r\n    });\r\n  };\r\n\r\n  _copyToClipboard = () => {\r\n    Clipboard.setString(this.state.image);\r\n    alert(\"Copied image URL to clipboard\");\r\n  };\r\n\r\n  _takePhoto = async () => {\r\n    let pickerResult = await ImagePicker.launchCameraAsync({\r\n      allowsEditing: true,\r\n      aspect: [4, 3],\r\n    });\r\n\r\n    await this._handleImagePicked(pickerResult);\r\n    await this._handleImagePicked(pickerResult);\r\n  };\r\n\r\n  _pickImage = async () => {\r\n    let pickerResult = await ImagePicker.launchImageLibraryAsync({\r\n      allowsEditing: true,\r\n      aspect: [4, 3],\r\n    });\r\n\r\n    await this._handleImagePicked(pickerResult);\r\n    firebase\r\n      .database()\r\n      .ref(\"user/\" + id)\r\n      .set({\r\n        photo: this.state.image,\r\n      });\r\n  };\r\n\r\n  _handleImagePicked = async (pickerResult) => {\r\n    try {\r\n      this.setState({ uploading: true });\r\n\r\n      if (!pickerResult.cancelled) {\r\n        uploadUrl = await uploadImageAsync(pickerResult.uri);\r\n        await this.setState({ image: uploadUrl });\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n      alert(\"Upload failed, sorry :(\");\r\n    } finally {\r\n      this.setState({ uploading: false });\r\n    }\r\n  };\r\n}\r\n\r\nasync function uploadImageAsync(uri) {\r\n  const blob = await new Promise((resolve, reject) => {\r\n    const xhr = new XMLHttpRequest();\r\n    xhr.onload = function() {\r\n      resolve(xhr.response);\r\n    };\r\n    xhr.onerror = function(e) {\r\n      console.log(e);\r\n      reject(new TypeError(\"Network request failed\"));\r\n    };\r\n    xhr.responseType = \"blob\";\r\n    xhr.open(\"GET\", uri, true);\r\n    xhr.send(null);\r\n  });\r\n\r\n  const ref = firebase\r\n    .storage()\r\n    .ref()\r\n    .child(\"ksjdnf\");\r\n  const snapshot = await ref.put(blob);\r\n  blob.close();\r\n  return await snapshot.ref.getDownloadURL();\r\n}\r\n"]},"metadata":{},"sourceType":"module"}