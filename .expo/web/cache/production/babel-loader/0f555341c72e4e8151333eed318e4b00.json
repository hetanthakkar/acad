{"ast":null,"code":"import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import PropTypes from'prop-types';import React from'react';import Image from\"react-native-web/dist/exports/Image\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Color from\"./Color\";import{StylePropType}from\"./utils\";var carrot=Color.carrot,emerald=Color.emerald,peterRiver=Color.peterRiver,wisteria=Color.wisteria,alizarin=Color.alizarin,turquoise=Color.turquoise,midnightBlue=Color.midnightBlue;var styles=StyleSheet.create({avatarStyle:{justifyContent:'center',alignItems:'center',width:40,height:40,borderRadius:20},avatarTransparent:{backgroundColor:Color.backgroundTransparent},textStyle:{color:Color.white,fontSize:16,backgroundColor:Color.backgroundTransparent,fontWeight:'100'}});var GiftedAvatar=function(_React$Component){_inherits(GiftedAvatar,_React$Component);var _super=_createSuper(GiftedAvatar);function GiftedAvatar(){var _this;_classCallCheck(this,GiftedAvatar);_this=_super.apply(this,arguments);_this.avatarName=undefined;_this.avatarColor=undefined;_this.handleOnPress=function(){var _this$props=_this.props,onPress=_this$props.onPress,other=_objectWithoutProperties(_this$props,[\"onPress\"]);if(_this.props.onPress){_this.props.onPress(other);}};_this.handleOnLongPress=function(){};return _this;}_createClass(GiftedAvatar,[{key:\"setAvatarColor\",value:function setAvatarColor(){var userName=this.props.user&&this.props.user.name||'';var name=userName.toUpperCase().split(' ');if(name.length===1){this.avatarName=\"\"+name[0].charAt(0);}else if(name.length>1){this.avatarName=\"\"+name[0].charAt(0)+name[1].charAt(0);}else{this.avatarName='';}var sumChars=0;for(var i=0;i<userName.length;i+=1){sumChars+=userName.charCodeAt(i);}var colors=[carrot,emerald,peterRiver,wisteria,alizarin,turquoise,midnightBlue];this.avatarColor=colors[sumChars%colors.length];}},{key:\"renderAvatar\",value:function renderAvatar(){var user=this.props.user;if(user){if(typeof user.avatar==='function'){return user.avatar([styles.avatarStyle,this.props.avatarStyle]);}else if(typeof user.avatar==='string'){return React.createElement(Image,{source:{uri:user.avatar},style:[styles.avatarStyle,this.props.avatarStyle]});}else if(typeof user.avatar==='number'){return React.createElement(Image,{source:user.avatar,style:[styles.avatarStyle,this.props.avatarStyle]});}}return null;}},{key:\"renderInitials\",value:function renderInitials(){return React.createElement(Text,{style:[styles.textStyle,this.props.textStyle]},this.avatarName);}},{key:\"render\",value:function render(){if(!this.props.user||!this.props.user.name&&!this.props.user.avatar){return React.createElement(View,{style:[styles.avatarStyle,styles.avatarTransparent,this.props.avatarStyle],accessibilityTraits:\"image\"});}if(this.props.user.avatar){return React.createElement(TouchableOpacity,{disabled:!this.props.onPress,onPress:this.props.onPress,onLongPress:this.props.onLongPress,accessibilityTraits:\"image\"},this.renderAvatar());}this.setAvatarColor();return React.createElement(TouchableOpacity,{disabled:!this.props.onPress,onPress:this.props.onPress,onLongPress:this.props.onLongPress,style:[styles.avatarStyle,{backgroundColor:this.avatarColor},this.props.avatarStyle],accessibilityTraits:\"image\"},this.renderInitials());}}]);return GiftedAvatar;}(React.Component);export{GiftedAvatar as default};GiftedAvatar.defaultProps={user:{name:null,avatar:null},onPress:undefined,onLongPress:undefined,avatarStyle:{},textStyle:{}};GiftedAvatar.propTypes={user:PropTypes.object,onPress:PropTypes.func,onLongPress:PropTypes.func,avatarStyle:StylePropType,textStyle:StylePropType};","map":{"version":3,"sources":["../src/GiftedAvatar.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Image, Text, TouchableOpacity, View, StyleSheet, } from 'react-native';\nimport Color from './Color';\nimport { StylePropType } from './utils';\nconst { carrot, emerald, peterRiver, wisteria, alizarin, turquoise, midnightBlue, } = Color;\nconst styles = StyleSheet.create({\n    avatarStyle: {\n        justifyContent: 'center',\n        alignItems: 'center',\n        width: 40,\n        height: 40,\n        borderRadius: 20,\n    },\n    avatarTransparent: {\n        backgroundColor: Color.backgroundTransparent,\n    },\n    textStyle: {\n        color: Color.white,\n        fontSize: 16,\n        backgroundColor: Color.backgroundTransparent,\n        fontWeight: '100',\n    },\n});\nexport default class GiftedAvatar extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.avatarName = undefined;\n        this.avatarColor = undefined;\n        this.handleOnPress = () => {\n            const { onPress, ...other } = this.props;\n            if (this.props.onPress) {\n                this.props.onPress(other);\n            }\n        };\n        this.handleOnLongPress = () => { };\n    }\n    setAvatarColor() {\n        const userName = (this.props.user && this.props.user.name) || '';\n        const name = userName.toUpperCase().split(' ');\n        if (name.length === 1) {\n            this.avatarName = `${name[0].charAt(0)}`;\n        }\n        else if (name.length > 1) {\n            this.avatarName = `${name[0].charAt(0)}${name[1].charAt(0)}`;\n        }\n        else {\n            this.avatarName = '';\n        }\n        let sumChars = 0;\n        for (let i = 0; i < userName.length; i += 1) {\n            sumChars += userName.charCodeAt(i);\n        }\n        // inspired by https://github.com/wbinnssmith/react-user-avatar\n        // colors from https://flatuicolors.com/\n        const colors = [\n            carrot,\n            emerald,\n            peterRiver,\n            wisteria,\n            alizarin,\n            turquoise,\n            midnightBlue,\n        ];\n        this.avatarColor = colors[sumChars % colors.length];\n    }\n    renderAvatar() {\n        const { user } = this.props;\n        if (user) {\n            if (typeof user.avatar === 'function') {\n                return user.avatar([styles.avatarStyle, this.props.avatarStyle]);\n            }\n            else if (typeof user.avatar === 'string') {\n                return (<Image source={{ uri: user.avatar }} style={[styles.avatarStyle, this.props.avatarStyle]}/>);\n            }\n            else if (typeof user.avatar === 'number') {\n                return (<Image source={user.avatar} style={[styles.avatarStyle, this.props.avatarStyle]}/>);\n            }\n        }\n        return null;\n    }\n    renderInitials() {\n        return (<Text style={[styles.textStyle, this.props.textStyle]}>\n        {this.avatarName}\n      </Text>);\n    }\n    render() {\n        if (!this.props.user ||\n            (!this.props.user.name && !this.props.user.avatar)) {\n            // render placeholder\n            return (<View style={[\n                styles.avatarStyle,\n                styles.avatarTransparent,\n                this.props.avatarStyle,\n            ]} accessibilityTraits='image'/>);\n        }\n        if (this.props.user.avatar) {\n            return (<TouchableOpacity disabled={!this.props.onPress} onPress={this.props.onPress} onLongPress={this.props.onLongPress} accessibilityTraits='image'>\n          {this.renderAvatar()}\n        </TouchableOpacity>);\n        }\n        this.setAvatarColor();\n        return (<TouchableOpacity disabled={!this.props.onPress} onPress={this.props.onPress} onLongPress={this.props.onLongPress} style={[\n            styles.avatarStyle,\n            { backgroundColor: this.avatarColor },\n            this.props.avatarStyle,\n        ]} accessibilityTraits='image'>\n        {this.renderInitials()}\n      </TouchableOpacity>);\n    }\n}\nGiftedAvatar.defaultProps = {\n    user: {\n        name: null,\n        avatar: null,\n    },\n    onPress: undefined,\n    onLongPress: undefined,\n    avatarStyle: {},\n    textStyle: {},\n};\nGiftedAvatar.propTypes = {\n    user: PropTypes.object,\n    onPress: PropTypes.func,\n    onLongPress: PropTypes.func,\n    avatarStyle: StylePropType,\n    textStyle: StylePropType,\n};\n//# sourceMappingURL=GiftedAvatar.js.map"]},"metadata":{},"sourceType":"module"}