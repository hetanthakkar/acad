{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import PropTypes from'prop-types';import Animated from\"react-native-web/dist/exports/Animated\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import Modal from\"react-native-web/dist/exports/Modal\";import PanResponder from\"react-native-web/dist/exports/PanResponder\";import Platform from\"react-native-web/dist/exports/Platform\";import StatusBar from\"react-native-web/dist/exports/StatusBar\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import View from\"react-native-web/dist/exports/View\";var WINDOW_HEIGHT=Dimensions.get('window').height;var WINDOW_WIDTH=Dimensions.get('window').width;var DRAG_DISMISS_THRESHOLD=150;var STATUS_BAR_OFFSET=Platform.OS==='android'?-25:0;var isIOS=Platform.OS==='ios';var styles=StyleSheet.create({background:{position:'absolute',top:0,left:0,width:WINDOW_WIDTH,height:WINDOW_HEIGHT},open:{position:'absolute',flex:1,justifyContent:'center',backgroundColor:'transparent'},header:{position:'absolute',top:0,left:0,width:WINDOW_WIDTH,backgroundColor:'transparent'},closeButton:{fontSize:35,color:'white',lineHeight:40,width:40,textAlign:'center',shadowOffset:{width:0,height:0},shadowRadius:1.5,shadowColor:'black',shadowOpacity:0.8}});var LightboxOverlay=function(_Component){_inherits(LightboxOverlay,_Component);var _super=_createSuper(LightboxOverlay);function LightboxOverlay(props){var _this;_classCallCheck(this,LightboxOverlay);_this=_super.call(this,props);_this.open=function(){if(isIOS){StatusBar.setHidden(true,'fade');}_this.state.pan.setValue(0);_this.setState({isAnimating:true,target:{x:0,y:0,opacity:1}});Animated.spring(_this.state.openVal,_objectSpread({toValue:1},_this.props.springConfig)).start(function(){_this.setState({isAnimating:false});_this.props.didOpen();});};_this.close=function(){_this.props.willClose();if(isIOS){StatusBar.setHidden(false,'fade');}_this.setState({isAnimating:true});Animated.spring(_this.state.openVal,_objectSpread({toValue:0},_this.props.springConfig)).start(function(){_this.setState({isAnimating:false});_this.props.onClose();});};_this.state={isAnimating:false,isPanning:false,target:{x:0,y:0,opacity:1},pan:new Animated.Value(0),openVal:new Animated.Value(0)};_this._panResponder=PanResponder.create({onStartShouldSetPanResponder:function onStartShouldSetPanResponder(evt,gestureState){return!_this.state.isAnimating;},onStartShouldSetPanResponderCapture:function onStartShouldSetPanResponderCapture(evt,gestureState){return!_this.state.isAnimating;},onMoveShouldSetPanResponder:function onMoveShouldSetPanResponder(evt,gestureState){return!_this.state.isAnimating;},onMoveShouldSetPanResponderCapture:function onMoveShouldSetPanResponderCapture(evt,gestureState){return!_this.state.isAnimating;},onPanResponderGrant:function onPanResponderGrant(evt,gestureState){_this.state.pan.setValue(0);_this.setState({isPanning:true});},onPanResponderMove:Animated.event([null,{dy:_this.state.pan}]),onPanResponderTerminationRequest:function onPanResponderTerminationRequest(evt,gestureState){return true;},onPanResponderRelease:function onPanResponderRelease(evt,gestureState){if(Math.abs(gestureState.dy)>DRAG_DISMISS_THRESHOLD){_this.setState({isPanning:false,target:{y:gestureState.dy,x:gestureState.dx,opacity:1-Math.abs(gestureState.dy/WINDOW_HEIGHT)}});_this.close();}else{Animated.spring(_this.state.pan,_objectSpread({toValue:0},_this.props.springConfig)).start(function(){_this.setState({isPanning:false});});}}});return _this;}_createClass(LightboxOverlay,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.isOpen){this.open();}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.isOpen!==prevProps.isOpen&&this.props.isOpen){this.open();}}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,isOpen=_this$props.isOpen,renderHeader=_this$props.renderHeader,swipeToDismiss=_this$props.swipeToDismiss,origin=_this$props.origin,backgroundColor=_this$props.backgroundColor;var _this$state=this.state,isPanning=_this$state.isPanning,isAnimating=_this$state.isAnimating,openVal=_this$state.openVal,target=_this$state.target;var lightboxOpacityStyle={opacity:openVal.interpolate({inputRange:[0,1],outputRange:[0,target.opacity]})};var handlers;if(swipeToDismiss){handlers=this._panResponder.panHandlers;}var dragStyle;if(isPanning){dragStyle={top:this.state.pan};lightboxOpacityStyle.opacity=this.state.pan.interpolate({inputRange:[-WINDOW_HEIGHT,0,WINDOW_HEIGHT],outputRange:[0,1,0]});}var openStyle=[styles.open,{left:openVal.interpolate({inputRange:[0,1],outputRange:[origin.x,target.x]}),top:openVal.interpolate({inputRange:[0,1],outputRange:[origin.y+STATUS_BAR_OFFSET,target.y+STATUS_BAR_OFFSET]}),width:openVal.interpolate({inputRange:[0,1],outputRange:[origin.width,WINDOW_WIDTH]}),height:openVal.interpolate({inputRange:[0,1],outputRange:[origin.height,WINDOW_HEIGHT]})}];var background=React.createElement(Animated.View,{style:[styles.background,{backgroundColor:backgroundColor},lightboxOpacityStyle]});var header=React.createElement(Animated.View,{style:[styles.header,lightboxOpacityStyle]},renderHeader?renderHeader(this.close):React.createElement(TouchableOpacity,{onPress:this.close},React.createElement(Text,{style:styles.closeButton},\"\\xD7\")));var content=React.createElement(Animated.View,_extends({style:[openStyle,dragStyle]},handlers),this.props.children);if(this.props.navigator){return React.createElement(View,null,background,content,header);}return React.createElement(Modal,{visible:isOpen,transparent:true,onRequestClose:function onRequestClose(){return _this2.close();}},background,content,header);}}]);return LightboxOverlay;}(Component);LightboxOverlay.propTypes={origin:PropTypes.shape({x:PropTypes.number,y:PropTypes.number,width:PropTypes.number,height:PropTypes.number}),springConfig:PropTypes.shape({tension:PropTypes.number,friction:PropTypes.number}),backgroundColor:PropTypes.string,isOpen:PropTypes.bool,renderHeader:PropTypes.func,onOpen:PropTypes.func,onClose:PropTypes.func,willClose:PropTypes.func,swipeToDismiss:PropTypes.bool};LightboxOverlay.defaultProps={springConfig:{tension:30,friction:7},backgroundColor:'black'};export{LightboxOverlay as default};","map":{"version":3,"sources":["C:/Users/codemaxx/Desktop/iBlood/node_modules/react-native-lightbox/LightboxOverlay.js"],"names":["React","Component","PropTypes","WINDOW_HEIGHT","Dimensions","get","height","WINDOW_WIDTH","width","DRAG_DISMISS_THRESHOLD","STATUS_BAR_OFFSET","Platform","OS","isIOS","styles","StyleSheet","create","background","position","top","left","open","flex","justifyContent","backgroundColor","header","closeButton","fontSize","color","lineHeight","textAlign","shadowOffset","shadowRadius","shadowColor","shadowOpacity","LightboxOverlay","props","StatusBar","setHidden","state","pan","setValue","setState","isAnimating","target","x","y","opacity","Animated","spring","openVal","toValue","springConfig","start","didOpen","close","willClose","onClose","isPanning","Value","_panResponder","PanResponder","onStartShouldSetPanResponder","evt","gestureState","onStartShouldSetPanResponderCapture","onMoveShouldSetPanResponder","onMoveShouldSetPanResponderCapture","onPanResponderGrant","onPanResponderMove","event","dy","onPanResponderTerminationRequest","onPanResponderRelease","Math","abs","dx","isOpen","prevProps","renderHeader","swipeToDismiss","origin","lightboxOpacityStyle","interpolate","inputRange","outputRange","handlers","panHandlers","dragStyle","openStyle","content","children","navigator","propTypes","shape","number","tension","friction","string","bool","func","onOpen","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Animated, Dimensions, Modal, PanResponder, Platform, StatusBar, StyleSheet, Text, TouchableOpacity, View } from 'react-native';\n\nconst WINDOW_HEIGHT = Dimensions.get('window').height;\nconst WINDOW_WIDTH = Dimensions.get('window').width;\nconst DRAG_DISMISS_THRESHOLD = 150;\nconst STATUS_BAR_OFFSET = (Platform.OS === 'android' ? -25 : 0);\nconst isIOS = Platform.OS === 'ios';\n\nconst styles = StyleSheet.create({\n  background: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: WINDOW_WIDTH,\n    height: WINDOW_HEIGHT,\n  },\n  open: {\n    position: 'absolute',\n    flex: 1,\n    justifyContent: 'center',\n    // Android pan handlers crash without this declaration:\n    backgroundColor: 'transparent',\n  },\n  header: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: WINDOW_WIDTH,\n    backgroundColor: 'transparent',\n  },\n  closeButton: {\n    fontSize: 35,\n    color: 'white',\n    lineHeight: 40,\n    width: 40,\n    textAlign: 'center',\n    shadowOffset: {\n      width: 0,\n      height: 0,\n    },\n    shadowRadius: 1.5,\n    shadowColor: 'black',\n    shadowOpacity: 0.8,\n  },\n});\n\nexport default class LightboxOverlay extends Component {\n  static propTypes = {\n    origin: PropTypes.shape({\n      x:        PropTypes.number,\n      y:        PropTypes.number,\n      width:    PropTypes.number,\n      height:   PropTypes.number,\n    }),\n    springConfig: PropTypes.shape({\n      tension:  PropTypes.number,\n      friction: PropTypes.number,\n    }),\n    backgroundColor: PropTypes.string,\n    isOpen:          PropTypes.bool,\n    renderHeader:    PropTypes.func,\n    onOpen:          PropTypes.func,\n    onClose:         PropTypes.func,\n    willClose:         PropTypes.func,\n    swipeToDismiss:  PropTypes.bool,\n  };\n\n  static defaultProps = {\n    springConfig: { tension: 30, friction: 7 },\n    backgroundColor: 'black',\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isAnimating: false,\n      isPanning: false,\n      target: {\n        x: 0,\n        y: 0,\n        opacity: 1,\n      },\n      pan: new Animated.Value(0),\n      openVal: new Animated.Value(0),\n    };\n    this._panResponder = PanResponder.create({\n      // Ask to be the responder:\n      onStartShouldSetPanResponder: (evt, gestureState) => !this.state.isAnimating,\n      onStartShouldSetPanResponderCapture: (evt, gestureState) => !this.state.isAnimating,\n      onMoveShouldSetPanResponder: (evt, gestureState) => !this.state.isAnimating,\n      onMoveShouldSetPanResponderCapture: (evt, gestureState) => !this.state.isAnimating,\n\n      onPanResponderGrant: (evt, gestureState) => {\n        this.state.pan.setValue(0);\n        this.setState({ isPanning: true });\n      },\n      onPanResponderMove: Animated.event([\n        null,\n        { dy: this.state.pan }\n      ]),\n      onPanResponderTerminationRequest: (evt, gestureState) => true,\n      onPanResponderRelease: (evt, gestureState) => {\n        if(Math.abs(gestureState.dy) > DRAG_DISMISS_THRESHOLD) {\n          this.setState({\n            isPanning: false,\n            target: {\n              y: gestureState.dy,\n              x: gestureState.dx,\n              opacity: 1 - Math.abs(gestureState.dy / WINDOW_HEIGHT)\n            }\n          });\n          this.close();\n        } else {\n          Animated.spring(\n            this.state.pan,\n            { toValue: 0, ...this.props.springConfig }\n          ).start(() => { this.setState({ isPanning: false }); });\n        }\n      },\n    });\n  }\n\n  componentDidMount() {\n    if(this.props.isOpen) {\n      this.open();\n    }\n  }\n\n  open = () => {\n    if(isIOS) {\n      StatusBar.setHidden(true, 'fade');\n    }\n    this.state.pan.setValue(0);\n    this.setState({\n      isAnimating: true,\n      target: {\n        x: 0,\n        y: 0,\n        opacity: 1,\n      }\n    });\n\n    Animated.spring(\n      this.state.openVal,\n      { toValue: 1, ...this.props.springConfig }\n    ).start(() => {\n      this.setState({ isAnimating: false });\n      this.props.didOpen();\n    });\n  }\n\n  close = () => {\n    this.props.willClose();\n    if(isIOS) {\n      StatusBar.setHidden(false, 'fade');\n    }\n    this.setState({\n      isAnimating: true,\n    });\n    Animated.spring(\n      this.state.openVal,\n      { toValue: 0, ...this.props.springConfig }\n    ).start(() => {\n      this.setState({\n        isAnimating: false,\n      });\n      this.props.onClose();\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if(this.props.isOpen !== prevProps.isOpen && this.props.isOpen) {\n      this.open();\n    }\n  }\n\n  render() {\n    const {\n      isOpen,\n      renderHeader,\n      swipeToDismiss,\n      origin,\n      backgroundColor,\n    } = this.props;\n\n    const {\n      isPanning,\n      isAnimating,\n      openVal,\n      target,\n    } = this.state;\n\n    const lightboxOpacityStyle = {\n      opacity: openVal.interpolate({inputRange: [0, 1], outputRange: [0, target.opacity]})\n    };\n\n    let handlers;\n    if(swipeToDismiss) {\n      handlers = this._panResponder.panHandlers;\n    }\n\n    let dragStyle;\n    if(isPanning) {\n      dragStyle = {\n        top: this.state.pan,\n      };\n      lightboxOpacityStyle.opacity = this.state.pan.interpolate({inputRange: [-WINDOW_HEIGHT, 0, WINDOW_HEIGHT], outputRange: [0, 1, 0]});\n    }\n\n    const openStyle = [styles.open, {\n      left:   openVal.interpolate({inputRange: [0, 1], outputRange: [origin.x, target.x]}),\n      top:    openVal.interpolate({inputRange: [0, 1], outputRange: [origin.y + STATUS_BAR_OFFSET, target.y + STATUS_BAR_OFFSET]}),\n      width:  openVal.interpolate({inputRange: [0, 1], outputRange: [origin.width, WINDOW_WIDTH]}),\n      height: openVal.interpolate({inputRange: [0, 1], outputRange: [origin.height, WINDOW_HEIGHT]}),\n    }];\n\n    const background = (<Animated.View style={[styles.background, { backgroundColor: backgroundColor }, lightboxOpacityStyle]}></Animated.View>);\n    const header = (<Animated.View style={[styles.header, lightboxOpacityStyle]}>{(renderHeader ?\n      renderHeader(this.close) :\n      (\n        <TouchableOpacity onPress={this.close}>\n          <Text style={styles.closeButton}>×</Text>\n        </TouchableOpacity>\n      )\n    )}</Animated.View>);\n    const content = (\n      <Animated.View style={[openStyle, dragStyle]} {...handlers}>\n        {this.props.children}\n      </Animated.View>\n    );\n\n    if (this.props.navigator) {\n      return (\n        <View>\n          {background}\n          {content}\n          {header}\n        </View>\n      );\n    }\n\n    return (\n      <Modal visible={isOpen} transparent={true} onRequestClose={() => this.close()}>\n        {background}\n        {content}\n        {header}\n      </Modal>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}