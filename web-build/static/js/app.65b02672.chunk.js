(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{344:function(e,t,a){"use strict";a.d(t,"a",(function(){return Fe}));var n=a(5),r=a.n(n),o=a(6),s=a.n(o),i=a(7),c=a.n(i),l=a(2),u=a.n(l),f=a(8),d=a.n(f),p=a(1),m=a.n(p),h=a(104),g=a.n(h),A=a(208),y=a(15),v=a.n(y),b=a(168),w=(a(102),a(4)),x=a(42),k=a(41),E=a(13),S=a(3),C=a(31),M=a(345),R=a(12),B=a.n(R),D=function(e){function t(){return r()(this,t),c()(this,u()(t).apply(this,arguments))}return d()(t,e),s()(t,[{key:"render",value:function(){return m.a.createElement(E.a,B()({},this.props,{style:[{backgroundColor:"transparent"},this.props.style,{fontFamily:"open-sans"}]}))}}]),t}(m.a.Component),F=(function(e){function t(){return r()(this,t),c()(this,u()(t).apply(this,arguments))}d()(t,e),s()(t,[{key:"render",value:function(){return m.a.createElement(E.a,B()({},this.props,{style:[{backgroundColor:"transparent"},this.props.style,{fontFamily:"open-sans-semibold"}]}))}}])}(m.a.Component),function(e){function t(){return r()(this,t),c()(this,u()(t).apply(this,arguments))}return d()(t,e),s()(t,[{key:"render",value:function(){return m.a.createElement(E.a,B()({},this.props,{style:[{backgroundColor:"transparent"},this.props.style,{fontFamily:"open-sans-bold"}]}))}}]),t}(m.a.Component)),O=a(343),z=function(e){function t(){return r()(this,t),c()(this,u()(t).apply(this,arguments))}return d()(t,e),s()(t,[{key:"componentDidMount",value:function(){console.log(b.a)}},{key:"render",value:function(){return m.a.createElement(O.a,{onPress:this._handlePress,activeOpacity:.05,style:{backgroundColor:"#fff"}},m.a.createElement(S.a,{style:I.row},m.a.createElement(S.a,{style:I.rowAvatarContainer},m.a.createElement(M.a,null,m.a.createElement(k.a,{source:{uri:"https://townsquare.media/site/252/files/2020/03/emma-watson.jpg"},style:{width:50,height:50,borderRadius:25}}))),m.a.createElement(S.a,{style:{flexDirection:"row"}},m.a.createElement(S.a,{style:I.rowData},m.a.createElement(E.a,{style:{fontSize:20}},"Hetan iusdniufno"),m.a.createElement(D,null,"React Native")),m.a.createElement(S.a,{style:I.rowData},m.a.createElement(F,null,"1:45")))))}}]),t}(m.a.Component),I=w.a.create({row:{padding:10,borderBottomWidth:w.a.hairlineWidth,borderColor:"#eee",flexDirection:"row"},rowAvatarContainer:{paddingVertical:5,paddingRight:10,paddingLeft:0},rowData:{flex:.95}}),j=a(592),P=a(18),T=a.n(P),q="#F72B2B",Q="#D61B1F",L="#3A3232",N="#ED6004",W="#000000",J="#FFFFFF",U="#D9D2D2",G="#F6F5F5",K=12,V=10,Y={h1:{fontFamily:"Montserrat-Bold",fontSize:32},h2:{fontFamily:"Montserrat-Bold",fontSize:26},h3:{fontFamily:"Montserrat-Bold",fontSize:18},title:{fontFamily:"Montserrat-Bold",fontSize:16},body:{fontSize:12},caption:{fontSize:12},small:{fontSize:8}};function Z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=u()(e);if(t){var r=u()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return c()(this,a)}}var H=function(e){d()(a,e);var t=Z(a);function a(){return r()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){var e=this.props,t=e.flex,a=e.row,n=e.column,r=e.center,o=e.middle,s=e.left,i=e.right,c=e.card,l=e.shadow,u=e.color,f=e.space,d=e.style,p=e.children,h=T()(e,["flex","row","column","center","middle","left","right","card","shadow","color","space","style","children"]),g=[X.block,t&&{flex:t},!1===t&&{flex:0},a&&X.row,n&&X.column,r&&X.center,o&&X.middle,s&&X.left,i&&X.right,c&&X.card,l&&X.shadow,f&&{justifyContent:"space-"+f},u&&X[u],u&&!X[u]&&{backgroundColor:u},d];return m.a.createElement(S.a,B()({style:g},h),p)}}]),a}(p.Component),X=w.a.create({block:{flex:1},row:{flexDirection:"row"},column:{flexDirection:"column"},card:{borderRadius:V},center:{alignItems:"center"},middle:{justifyContent:"center"},left:{justifyContent:"flex-start"},right:{justifyContent:"flex-end"},shadow:{shadowColor:W,shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:10},accent:{backgroundColor:q},primary:{backgroundColor:Q},secondary:{backgroundColor:L},tertiary:{backgroundColor:N},black:{backgroundColor:W},white:{backgroundColor:J},gray:{backgroundColor:U},gray2:{backgroundColor:G}});function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=u()(e);if(t){var r=u()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return c()(this,a)}}!function(e){d()(a,e);var t=_(a);function a(){return r()(this,a),t.apply(this,arguments)}s()(a,[{key:"render",value:function(){var e=this.props,t=e.h1,a=e.h2,n=e.h3,r=e.title,o=e.body,s=e.caption,i=e.small,c=e.size,l=e.bold,u=e.semibold,f=e.light,d=e.center,p=e.right,h=e.color,g=e.accent,A=e.primary,y=e.secondary,v=e.tertiary,b=e.black,w=e.white,x=e.gray,k=e.gray2,S=e.style,C=e.children,M=T()(e,["h1","h2","h3","title","body","caption","small","size","bold","semibold","light","center","right","color","accent","primary","secondary","tertiary","black","white","gray","gray2","style","children"]),R=[$.text,t&&$.h1,a&&$.h2,n&&$.h3,r&&$.title,o&&$.body,s&&$.caption,i&&$.small,c&&{fontSize:c},l&&$.bold,u&&$.semibold,f&&$.light,d&&$.center,p&&$.right,h&&$[h],h&&!$[h]&&{color:h},g&&$.accent,A&&$.primary,y&&$.secondary,v&&$.tertiary,b&&$.black,w&&$.white,x&&$.gray,k&&$.gray2,S];return m.a.createElement(E.a,B()({style:R},M),C)}}])}(p.Component);var $=w.a.create({text:{fontSize:K,color:W},bold:{fontWeight:"bold",fontFamily:"Montserrat-Bold"},semibold:{fontWeight:"500",fontFamily:"Montserrat-SemiBold"},light:{fontWeight:"200",fontFamily:"Montserrat-Light"},center:{textAlign:"center"},right:{textAlign:"right"},accent:{color:q},primary:{color:Q},secondary:{color:L},tertiary:{color:N},black:{color:W},white:{color:J},gray:{color:U},gray2:{color:G},h1:Y.h1,h2:Y.h2,h3:Y.h3,title:Y.title,body:Y.body,caption:Y.caption,small:Y.small}),ee={avatar:a(383)},te=a(133),ae=function(e){function t(){var e,a;r()(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=c()(this,(e=u()(t)).call.apply(e,[this].concat(o)))).state={fontsLoaded:!1,device:""},a}return d()(t,e),s()(t,[{key:"loadFonts",value:function(){return j.b({"Montserrat-Regular":a(384),"Montserrat-Bold":a(385),"Montserrat-SemiBold":a(386),"Montserrat-Medium":a(387),"Montserrat-Light":a(388)})}},{key:"componentDidMount",value:function(){return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.awrap(console.log("sldnfsdf"+JSON.stringify(te.a.platform.web.ua.includes("Windows"))));case 2:return this.setState({device:b.a}),e.next=5,v.a.awrap(this.loadFonts());case 5:this.setState({fontsLoaded:!0});case 6:case"end":return e.stop()}}),null,this)}},{key:"renderRequest",value:function(e){return m.a.createElement(z,null)}},{key:"renderRequests",value:function(){var e=this,t=this.props.requests;return m.a.createElement(H,{flex:.8,column:!0,color:"gray2",style:re.requests},m.a.createElement(x.a,{showsVerticalScrollIndicator:!1},t.map((function(t){return m.a.createElement(C.a,{activeOpacity:.8,key:"request-"+t.id},e.renderRequest(t))}))))}},{key:"render",value:function(){return this.state.fontsLoaded||this.state.device?m.a.createElement(S.a,null,m.a.createElement(E.a,{style:{fontSize:32}},this.state.device)):m.a.createElement(H,{center:!0,middle:!0},m.a.createElement(k.a,{style:{width:140,height:140},source:a(389)}))}}]),t}(m.a.Component);ae.defaultProps={user:ee,requests:[{id:1,bloodType:"B+",name:"Ronald Dixon",age:24,gender:"Male",distance:28,time:12,priority:"urgent"},{id:2,bloodType:"O-",name:"Kathy Bates",age:19,gender:"Female",distance:10,time:22,priority:"urgent"},{id:3,bloodType:"A+",name:"Edward Sanders",age:6,gender:"Male",distance:15.3,time:24,priority:"urgent"}],chart:[1.1,3,1.5,2.3,3.2,7,8.2,1.2,2,1.2,8,3.8,5.8,3.9,5.1,.1,6]};var ne=ae,re=w.a.create({safe:{flex:1,backgroundColor:Q},headerChart:{paddingTop:30,paddingBottom:30,zIndex:1},avatar:{width:25,height:25,borderRadius:12.5,marginRight:5},requests:{marginTop:-55,paddingTop:75,paddingHorizontal:15,zIndex:-1}}),oe=a(43),se=a.n(oe),ie=a(45),ce=a(84),le=a(96),ue=a(591),fe=a(342),de=a(590);function pe(e){return m.a.createElement(S.a,{style:{margin:5}},m.a.createElement(ue.a,{style:{elevation:5}},m.a.createElement(S.a,{style:{flexDirection:"row",padding:10}},m.a.createElement(S.a,null,m.a.createElement(k.a,{style:{height:80,width:80,borderRadius:40},source:{uri:e.photo}})),m.a.createElement(S.a,null,m.a.createElement(ue.a.Content,null,m.a.createElement(fe.a,null,e.name),m.a.createElement(de.a,null,e.chat))))))}var me=a(70),he=a.n(me);function ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=u()(e);if(t){var r=u()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return c()(this,a)}}var Ae,ye,ve;he.a.apps.length||he.a.initializeApp({apiKey:"AIzaSyAfGN94rWhA55dceve-ab5R5nEL6o4xXeg",authDomain:"new1-930be.firebaseapp.com",databaseURL:"https://new1-930be.firebaseio.com",projectId:"new1-930be",storageBucket:"new1-930be.appspot.com",messagingSenderId:"332990256430",appId:"1:332990256430:web:640a6413492c34bf2a96bf",measurementId:"G-SBPS6449GM"});var be,we,xe=[],ke=[],Ee=[],Se=[],Ce=[],Me=(Math.round(ie.a.get("window").width),Math.round(ie.a.get("window").height)/100),Re=function(e){d()(a,e);var t=ge(a);function a(){var e;r()(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={bar:"",pub:[],seen:[],messages:[],renderMessage:[],temp3:[],temp2:[],temp:[],temp1:[],noOfMessagesRecieved:0,noOfMessagesSent:0},e.onChange=function(t){return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(e.setState({bar:t}));case 2:case"end":return a.stop()}}),null,null,null,Promise)},e.handleBackButton=function(){return e.props.navigation.navigate("Profile"),!0},e}return s()(a,[{key:"componentWillUnmount",value:function(){ce.a.removeEventListener("hardwareBackPress",this.handleBackButton),this.setState({messages:[]}),this.setState({renderMessage:[]})}},{key:"componentDidMount",value:function(){var e,t,a,n,r=this;return v.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return console.log("mudde",this.props),Ce=this.state.temp3,Se=this.state.temp2,Se=this.state.temp1,ke=this.state.temp,ce.a.addEventListener("hardwareBackPress",this.handleBackButton),o.next=8,v.a.awrap(this.setState({currentId:0}));case 8:return we=this.state.noOfMessagesSent,o.next=11,v.a.awrap(he.a.database().ref("user/0/noOfMessagesSent").on("value",(function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return we=e.val(),console.log(e.val()),t.next=4,v.a.awrap(r.setState({noOfMessagesSent:we}));case 4:case"end":return t.stop()}}),null,null,null,Promise)})));case 11:return console.log({noOfMessagesSent:we}),o.next=14,v.a.awrap(he.a.database().ref("user/0/messagesRecieved").on("value",(function(e){e.val()})));case 14:return be=this.state.noOfMessagesRecieved,o.next=17,v.a.awrap(he.a.database().ref("user/0/noOfMessagesRecieved").on("value",(function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return be=e.val(),t.next=3,v.a.awrap(r.setState({noOfMessagesRecieved:be}));case 3:case"end":return t.stop()}}),null,null,null,Promise)})));case 17:console.log("noOfMessagesSent",this.state.noOfMessagesSent),e=we;case 19:if(!(e>=1)){o.next=26;break}return console.log(we),o.next=23,v.a.awrap(he.a.database().ref("user/0/messagesSent/"+e).on("value",(function(e){ke.includes(e.val().message.to)||Ee.push(e.val()),console.log(e.val()),ke.push(e.val().message.to)})));case 23:e--,o.next=19;break;case 26:t=be;case 27:if(!(t>=1)){o.next=33;break}return o.next=30,v.a.awrap(he.a.database().ref("user/0/messagesRecieved/"+t).on("value",(function(e){Se.includes(e.val().message.from)||Ce.push(e.val()),Se.push(e.val().message.from)})));case 30:t--,o.next=27;break;case 33:for(xe=[].concat(se()(Ce),Ee),xe=Object.keys(xe).sort((function(e,t){return Date.parse(xe[e].message.createdAt)-Date.parse(xe[t].message.createdAt)})).map((function(e){return xe[e]})),ye=this.state.seen,Ae=xe.length-1;Ae>=0;Ae--)xe[Ae].message.from||0==xe[Ae].message.from?(ye.includes(xe[Ae].message.from)&&xe.splice(Ae,1),ye.push(xe[Ae].message.from)):(ye.includes(xe[Ae].message.to)&&xe.splice(Ae,1),ye.push(xe[Ae].message.to));return xe=Object.keys(xe).sort((function(e,t){return Date.parse(xe[e].message.createdAt)-Date.parse(xe[t].message.createdAt)})).map((function(e){return xe[e]})),o.next=40,v.a.awrap(this.setState({messages:xe}));case 40:ve=this.state.renderMessage,a=function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.state.messages[e].message.to&&0!=r.state.messages[e].message.to){t.next=5;break}return t.next=3,v.a.awrap(he.a.database().ref("user/"+r.state.messages[e].message.to).on("value",(function(t){ve.push({name:t.val().name,photo:t.val().photo,chat:r.state.messages[e].message.text})})));case 3:t.next=7;break;case 5:return t.next=7,v.a.awrap(he.a.database().ref("user/"+r.state.messages[e].message.from).on("value",(function(t){ve.push({name:t.val().name,photo:t.val().photo,chat:r.state.messages[e].message.text})})));case 7:return t.next=9,v.a.awrap(r.setState({renderMessage:ve}));case 9:case"end":return t.stop()}}),null,null,null,Promise)},n=0;case 43:if(!(n<this.state.messages.length)){o.next=49;break}return o.next=46,v.a.awrap(a(n));case 46:n++,o.next=43;break;case 49:this.setState({renderMessage:[{chat:"Fiji",name:"hetan",photo:"https://firebasestorage.googleapis.com/v0/b/new1-930be.appspot.com/o/ksjdnf?alt=media&token=9514dc1f-f459-4473-a7c0-ab13a5820d47"}]}),console.log({renderMessage:ve});case 51:case"end":return o.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){return m.a.createElement(S.a,null,m.a.createElement(x.a,null,m.a.createElement(le.Header,{searchBar:!0,rounded:!0,autoCorrect:!1,style:{height:12*Me,backgroundColor:"#3498db"}},m.a.createElement(le.Item,{style:{marginTop:2*-Me}},m.a.createElement(le.Icon,{name:"ios-search"}),m.a.createElement(le.Input,{value:this.state.bar,onChangeText:this.onChange}),m.a.createElement(le.Icon,{name:"ios-people"})),m.a.createElement(le.Button,{transparent:!0})),this.state.renderMessage.map((function(e){return m.a.createElement(C.a,null,m.a.createElement(pe,{name:e.name,chat:e.chat,photo:e.photo}))}))))}}]),a}(m.a.Component);Re.navigationOptions={drawerLabel:"search"};var Be=a(61);function De(){var e=Object(p.useState)([]),t=g()(e,2),a=t[0],n=t[1];Object(p.useEffect)((function(){n([{_id:1,text:"Hello developer",createdAt:new Date,user:{_id:2,name:"React Native",avatar:"https://placeimg.com/140/140/any"}}])}),[]);var r=Object(p.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n((function(t){return A.a.append(t,e)}))}),[]);return te.a.platform.web.ua.includes("Windows")?m.a.createElement(S.a,{style:{flex:1,flexDirection:"row",alignItems:"stretch"}},m.a.createElement(S.a,{style:{flex:.7}},m.a.createElement(ne,null)),m.a.createElement(S.a,{style:{flex:1,backgroundColor:"#dfe6e9"}},m.a.createElement(A.a,{messages:a,onSend:function(e){return r(e)},user:{_id:1}}))):te.a.platform.web.ua.includes("Windows")?void 0:m.a.createElement(Re,null)}w.a.create({container:{flex:1,marginTop:Be.a.currentHeight||0},item:{backgroundColor:"#f9c2ff",padding:20,marginVertical:8,marginHorizontal:16},title:{fontSize:32}});var Fe=function(e){function t(){return r()(this,t),c()(this,u()(t).apply(this,arguments))}return d()(t,e),s()(t,[{key:"render",value:function(){return m.a.createElement(De,null)}}]),t}(p.Component)},347:function(e,t,a){a(348),e.exports=a(562)},348:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},383:function(e,t,a){e.exports=a.p+"static/media/avatar.9d38d0fe.png"},384:function(e,t,a){e.exports=a.p+"./fonts/Montserrat-Regular.ttf"},385:function(e,t,a){e.exports=a.p+"./fonts/Montserrat-Bold.ttf"},386:function(e,t,a){e.exports=a.p+"./fonts/Montserrat-SemiBold.ttf"},387:function(e,t,a){e.exports=a.p+"./fonts/Montserrat-Medium.ttf"},388:function(e,t,a){e.exports=a.p+"./fonts/Montserrat-Light.ttf"},389:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAAAAAB3tzPbAAACSUlEQVR42u3XLavjUBSF4fP/f8ESgaMujYmqKxQKERcGChci6mJqIiIiNoFwxB7Rph+XGTUme+67VTmksB+StGslf07pT/u6knS2dT61zkbOqnp/6svL0un58VptbNm/ng3LHwDFprxe8OvxpVYbPNuZWfkOmF+v2DigNTOb3wDFzMyGuu2HyTY909C3w+1jeQKKhZzyAFjQmW+AeQq6f5vNPbkfcxdx/bGRju7JR0n7gDfhS5JGT36Q1ES8BY2kg6dSSeojAnpJVUm9pDrmS1xL6tNJ0mfQXyFJp7SP+gTdnqF9qiWNMQGDpCZVkqL+kw2jzcmCDwAAAAAA+DfAbvfxEXX5aZqmJElRAZIEAAAAAAB+OGAchyEqIOecCXMAAAAAAIBOTCcmjQIAAAAAADoxYQ4AAAAAANCJ6cSkUQAAAAAAQCcmzAEAAAAAADoxnZg0CgAAAAAA6MSEOQAAAAAAQCemE5NGAQAAAAAAnZgwBwAAAAAA6MR0YtIoAAAAAACgExPmAAAAAAAAnZhOTBoFAAAAAAB0YsIcAAAAAACgE9OJAQAAAADAj+/EY1RA09S7tMSOQkt8QIkNKMljA/w/AIR+CRZP7mY2dAHbjJmZe3Iv1lUKJ7jkzqy4J3c/SNIl1v6dpNb8BrhKUnWOtP9ZkjTcAd5Jkpo+yvp9I0nqfAXcBdUUY/9Wz/3vAL9mSYf1ii+tc7QNnl0kKV/9FeB2lK5BAJalo/k7wH1s317x25w2edYexsfaT4C7e1mWeduAeVnK28q/AUwmSsEThs/2AAAAAElFTkSuQmCC"}},[[347,1,2]]]);
//# sourceMappingURL=app.65b02672.chunk.js.map